<!DOCTYPE html>
<html>
  <head>
    <title>FACS (Facial Action Coding System) | CogniCue</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="/assets/img/logo/favicon-60x66.png">

    <!-- Stylesheets -->
    <link href="https://stackpath.bootstrapcdn.com/bootswatch/4.1.1/darkly/bootstrap.min.css" rel="stylesheet" integrity="sha384-ae362vOLHy2F1EfJtpMbNW0i9pNM1TP2l5O4VGYYiLJKsaejqVWibbP6BSf0UU5i" crossorigin="anonymous" />
    <link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet" />

    <link href="/assets/demo/facs/css/index-dark.css" rel="stylesheet" type="text/css" />
    <link href="/assets/demo/facs/css/common.css" rel="stylesheet" type="text/css" />
    <!-- fontawesome glyphs -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


    <!-- Handshaking backend frontend -->
    <script type="text/javascript">
      const present_conf = {"play": "/assets/demo/facs/img/play.png", "share": "/assets/demo/facs/img/share.png", "timeout": 120}
          , messages = {"detectorLoaded": "Loading FACS...", "incompatableBrowser": "It appears that you are using an unsupported browser. Please try this demo on an updated version of Chrome, Firefox, Opera or Edge.", "loadingPlayer": "Loading Player...", "noFace": "\u003ch4\u003eNo face detected\u003c/h4\u003e \u003cp\u003ePlease make sure your face is in view of the webcam.\u003c/p\u003e", "noPresent": "\u003ch4\u003eShare your screen\u003c/h4\u003e  \u003cp\u003eSince you canceled to share your screen or there is a problem while sharing the screen, we could not process. Click the below button to try again.  \u003c/p\u003e  \u003cbr\u003e  \u003ca href=\".\" class=\"btnC btn btn-info float-right\"\u003eOK\u003c/a\u003e", "videoEnd": "\u003ch4\u003eAnalysis Complete!\u003c/h4\u003e  \u003cp\u003eNow that your analysis has finished, you can playback the video and see your emotional reactions to it over time.\u003c/p\u003e  \u003cp\u003eYou can click in the graph to seek the video to that point in time and press the spacebar key to play or pause the video.\u003c/p\u003e  \u003cp\u003eUse the searchbar to the left of the video to highlight a specific metric or all metrics.\u003c/p\u003e  \u003cbr\u003e  \u003cbutton type=\"button\" class=\"btnC btn btn-primary float-right\" data-dismiss=\"modal\"\u003eOK\u003c/button\u003e", "videoLoadingFailure": "\u003ch4\u003eNetwork Problem\u003c/h4\u003e  \u003cp\u003eUnable to fetch the video for you. Click the button below to try another.\u003c/p\u003e  \u003cbr\u003e  \u003ca href=\".\" id=\"try_another\" class=\"btnC btn btn-info float-right\"\u003eTry Another\u003c/a\u003e", "videoStart": "\u003ch4\u003eWelcome!\u003c/h4\u003e  \u003cp\u003eWe are about to play a video for you. While that video is playing, we will be using your webcam to determine your emotional engagement.\u003c/p\u003e  \u003cp\u003eThe graph below will plot your engagement with the video over time using various metrics. You can focus on a specific metric by clicking searchbar on the left.\u003c/p\u003e  \u003cbutton type=\"button\" class=\"btnC btn btn-primary float-left\" id=\"startShare\" data-dismiss=\"modal\"\u003ePresent \u003ci class=\"fa fa-share-square-o\"\u003e\u003c/i\u003e\u003c/button\u003e\u003cbutton type=\"button\" class=\"btnC btn btn-primary float-right\" id=\"startVideo\" data-dismiss=\"modal\"\u003ePlay \u003ci class=\"fa fa-play-circle\"\u003e\u003c/i\u003e\u003c/button\u003e", "webcamFailure": "Unable to connect to webcam, please make sure your webcam is connected, and this page has the permission to access it."}
          , defaults = ["joy", "surprise", "engagement"]
          , metric = {"Anger": {"color": "#fc4627", "mr_name": "Anger", "order": 1, "sdk_name": "anger", "type": "Emotions", "visible": true}, "Attention": {"color": "#27833C", "mr_name": "Attention", "order": 1, "sdk_name": "attention", "summary": true, "type": "Expressions", "visible": true}, "Brow Furrow": {"color": "#ac6ef7", "mr_name": "Brow Furrow", "order": 26, "sdk_name": "browFurrow", "type": "Expressions", "visible": true}, "Brow Raise": {"color": "#C7600F", "mr_name": "Brow Raise", "order": 25, "sdk_name": "browRaise", "type": "Expressions", "visible": true}, "Cheek Raise": {"color": "#6ef2f7", "mr_name": "Cheek Raise", "order": 24, "sdk_name": "cheekRaise", "type": "Expressions", "visible": true}, "Chin Raise": {"color": "#f76eca", "mr_name": "Chin Raise", "order": 23, "sdk_name": "chinRaise", "type": "Expressions", "visible": true}, "Contempt": {"color": "#2bb3f7", "mr_name": "Contempt", "order": 3, "sdk_name": "contempt", "summary": true, "type": "Emotions", "visible": true}, "Dimpler": {"color": "#a2f76e", "mr_name": "Dimpler", "order": 21, "sdk_name": "dimpler", "type": "Expressions", "visible": false}, "Disgust": {"color": "#ffd000", "mr_name": "Disgust", "order": 4, "sdk_name": "disgust", "summary": true, "type": "Emotions", "visible": true}, "Expressiveness": {"color": "#f76e7f", "mr_name": "Expressiveness", "order": 2, "sdk_name": "engagement", "summary": true, "type": "Expressions", "visible": true}, "Eye Closure": {"color": "#6e79f7", "mr_name": "Eye Closure", "order": 19, "sdk_name": "eyeClosure", "type": "Expressions", "visible": true}, "Eye Widen": {"color": "#f78a6e", "mr_name": "Eye Widen", "order": 18, "sdk_name": "eyeWiden", "type": "Expressions", "visible": true}, "Fear": {"color": "#813790", "mr_name": "Fear", "order": 5, "sdk_name": "fear", "summary": true, "type": "Emotions", "visible": true}, "Happiness": {"color": "#2ee65d", "mr_name": "Happiness", "order": 6, "sdk_name": "joy", "summary": true, "type": "Emotions", "visible": true}, "Inner Brow Raise": {"color": "#46AFB3", "mr_name": "Inner Brow Raise", "order": 16, "sdk_name": "innerBrowRaise", "type": "Expressions", "visible": true}, "Jaw Drop": {"color": "#da6ef7", "mr_name": "Jaw Drop", "order": 15, "sdk_name": "jawDrop", "type": "Expressions", "visible": true}, "Lid Tighten": {"color": "#ecf76e", "mr_name": "Lid Tighten", "order": 13, "sdk_name": "lidTighten", "type": "Expressions", "visible": true}, "Lip Corner Depress": {"color": "#6ec4f7", "mr_name": "Lip Corner Depress", "order": 12, "sdk_name": "lipCornerDepressor", "type": "Expressions", "visible": true}, "Lip Press": {"color": "#f76e9c", "mr_name": "Lip Press", "order": 11, "sdk_name": "lipPress", "type": "Expressions", "visible": true}, "Lip Pucker": {"color": "#74f76e", "mr_name": "Lip Pucker", "order": 10, "sdk_name": "lipPucker", "type": "Expressions", "visible": false}, "Lip Stretch": {"color": "#906ef7", "mr_name": "Lip Stretch", "order": 9, "sdk_name": "lipStretch", "type": "Expressions", "visible": true}, "Lip Suck": {"color": "#f7b86e", "mr_name": "Lip Suck", "order": 8, "sdk_name": "lipSuck", "type": "Expressions", "visible": true}, "Mouth Open": {"color": "#6ef7e0", "mr_name": "Mouth Open", "order": 7, "sdk_name": "mouthOpen", "type": "Expressions", "visible": true}, "Nose Wrinkle": {"color": "#f76ee6", "mr_name": "Nose Wrinkle", "order": 6, "sdk_name": "noseWrinkle", "type": "Expressions", "visible": true}, "Sadness": {"color": "#f76e9c", "mr_name": "Sadness", "order": 7, "sdk_name": "lipCornerDepressor", "summary": true, "type": "Emotions", "visible": true}, "Sentimentality": {"color": "#46AFB3", "mr_name": "Sentimentality", "order": 31, "sdk_name": "innerBrowRaise", "type": "Expressions", "visible": false}, "Smile": {"color": "#962B07", "mr_name": "Smile", "order": 4, "sdk_name": "smile", "type": "Expressions", "visible": true}, "Smirk": {"color": "#6e96f7", "mr_name": "Smirk", "order": 3, "sdk_name": "smirk", "type": "Expressions", "visible": true}, "Surprise": {"color": "#FA8C36", "mr_name": "Surprise", "order": 8, "sdk_name": "surprise", "summary": true, "type": "Emotions", "visible": true}, "Upper Lip Raise": {"color": "#f76e6e", "mr_name": "Upper Lip Raise", "order": 1, "sdk_name": "upperLipRaise", "type": "Expressions", "visible": true}, "Valence": {"color": "#6ea7f7", "mr_name": "Valence", "order": 30, "sdk_name": "valence", "type": "Emotions", "visible": false}}
          , media = {"english": [{"data": "https://media.cognicue.in/demo/facs/1/coffeebeach.mp4", "id": 1, "poster": "/assets/demo/facs/img/play.png"}, {"data": "https://media.cognicue.in/demo/facs/2/darthvaderkid.mp4", "id": 2, "poster": "/assets/demo/facs/img/play.png"}, {"data": "https://media.cognicue.in/demo/facs/3/japanesetyre.mp4", "id": 3, "poster": "/assets/demo/facs/img/play.png"}, {"data": "https://media.cognicue.in/demo/facs/4/karatekid.mp4", "id": 4, "poster": "/assets/demo/facs/img/play.png"}, {"data": "https://media.cognicue.in/demo/facs/5/lasvegas.mp4", "id": 5, "poster": "/assets/demo/facs/img/play.png"}, {"data": "https://media.cognicue.in/demo/facs/6/Semirgymnastic.mp4", "id": 6, "poster": "/assets/demo/facs/img/play.png"}, {"data": "https://media.cognicue.in/demo/facs/7/vaccumcleaner.mp4", "id": 7, "poster": "/assets/demo/facs/img/play.png"}, {"data": "https://media.cognicue.in/demo/facs/8/vowedogfish.mp4", "id": 8, "poster": "/assets/demo/facs/img/play.png"}]}
          ;
    </script>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
    <!-- D3 - Data Driven Documents -->
    <script src="https://d3js.org/d3.v5.min.js"></script>

    <script src="/assets/demo/facs/js/application.js"></script>
    <script defer src="/assets/demo/facs/js/cogni.js"></script>
  	<script defer src="/assets/demo/facs/js/graph.js"></script>
  	<script defer src="/assets/demo/facs/js/player.js"></script>
  	<script defer src="/assets/demo/facs/js/summarizer.js"></script>
  	<script defer src="/assets/demo/facs/js/modal-alert.js"></script>
  	<script defer src="/assets/demo/facs/js/summary.js"></script>
  	<script defer src="/assets/demo/facs/js/demo.js"></script>


<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PBR462L');</script>
<!-- End Google Tag Manager -->
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PBR462L"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<div id="preloader-active">
  <div class="preloader d-flex align-items-center justify-content-center">
    <div class="preloader-inner position-relative">
      <div class="preloader-circle"></div>
      <div class="preloader-img pere-text">
        <img src="/assets/img/logo/favicon-60x66.png" alt="CogniCue">
      </div>
    </div>
  </div>
</div>

<nav class="navbar navbar-light bg-highlight">
  <div class="container">
    <div class="row w-100">
      <div class="col-lg-3 col-sm-4">
        <a class="brand-logo-adj navbar-brand align-middle" href="/">
          <img class="brand-logo" src="/assets/img/logo/logo-200x200.png" alt="CogniCue" />
        </a>
      </div>
      <div class="col-lg-9 col-sm-8 mt-2">
        <h1 class="navbar-text boldtext ">FACS (Facial Action Coding System)</h1>
      </div>
    </div>
  </div>
</nav>
    

<div id="text-width"></div>
<div id="facevideo-node"></div>

<div class="container">
  <!-- Modal -->
<div class="modal fade" id="alert" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered " role="document">
    <div class="modal-content">
      <div class="modal-body">
        <div class="text-box"></div>
      </div>
    </div>
  </div>
</div>


  <div id="consent-container" style="display:flex;">
    <div class="container d-flex full-height align-items-center">
      <div class="row d-flex justify-content-center">
        <div class="col col-md-6">
          <div class="card">
            <h5 class="card-header">Privacy Notice</h5>
            <div class="card-body">
              <p class="card-text">This demo makes use of the CogniCue JavaScript SDK. To use it, you must enable your webcam.</p>
              <p class="card=text">Your webcam data and frame-by-frame emotion metrics will <strong>not</strong> be sent to CogniCue. This means <strong>no data</strong> will be sent back to CogniCue. Eventually, after loading all resources you can use the application offline. You may review CogniCue's privacy policy <a href="/privacy-policy/" target="_new_tab">here</a>.</p>
              <p>Click "I Accept" to proceed with the demo.</p>
              <br>
              <a href="/" class="btnC btn btn-info">Cancel</a>
              <a class="btnC btn btn-info float-right" id="demo-consent">I Accept</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row align-items-center text-center full-height" id="loading-container" style="display:none;">
    <div class="col loading-state" id="loading-info">
      <div class="loader"></div>
      <br>
      <span id="loading-text">This demo requires the access to your webcam, please make sure it is enabled.</span>
    </div>
  </div>


  <div class="row" id="demo-container" style="display: none;">


    <div class="col-md-3 mt-4 text-center d-none d-sm-block">
      <!-- Stable Menu -->

      <div class="card rounded bg-transparent" style="border: 1px solid white;">
        <div class="card-header small">Engagement Metric</div>
        <div class="card-body bg-transparent pt-1 pb-2">
          <p class="small">Click below to select or remove different FACS metrics</p>
          <select id="emotion-buttons" name="states[]" multiple="multiple"></select>
        </div>
      </div>
      
      <div class="card rounded bg-transparent mt-2" style="border: 1px solid white;">
        <div class="card-body bg-transparent pt-1 pb-2">
          <div style="height: 10px; width: 10px; background-color: #6ef784; display: inline-block; float: left; margin-right: 7px; margin-top: 7px; margin-bottom: 20px;"></div> 
          <div><small>Color curves represent moment-by-moment facial movements probabilities</small></div>
          <div style="clear: both; margin-bottom: 5px;"></div>
          <div style="height: 10px; width: 10px; background-color: #404040; display: inline-block; float: left; margin-right: 7px; margin-top: 7px; margin-bottom: 20px;"></div>
          <div><small>Gray bar in graph signifies that the entire face couldn't be captured</small></div>
        </div>
      </div>
        
    </div>    

    <div class="col-md-6 col-xs-12">

      <br>
      <!-- Video -->
      <div class="row my-0">
        <div class="col text-center" >
          <div id="video-wrapper" >
            <video poster="" id="media-stimulus" class="my-1 img-fluid" data="" oncontextmenu="return false;"></video>
			      <video poster="" id="media-object" class="my-1 img-fluid" style="display: none;" data="" oncontextmenu="return false;"></video>
          </div>
        </div>
      </div>

      <div class="row" id="svg-container">
        <!-- Graph -->
        <div id="svg-wrapper" class="col my-0 text-center" style>
          <svg id="svg-curve"></svg>
        </div>
      </div>

    </div>

    <div class="col-md-3 mt-4 text-center d-none d-sm-block">
      <!-- Transition Menu -->

      <div id="showSubject" class="card rounded bg-transparent" style="display: none;border: 1px solid white;">
        <div class="card-header small">Engagement Subject</div>
        <div class="card-body bg-transparent pt-1 pb-2">
          <video poster="" id="media-subject" class="my-1 img-fluid" style="display: none;" data="" oncontextmenu="return false;"></video>
        </div>
      </div>      
      
      <div id="showControl" class="card rounded bg-transparent mt-2" style="display:none;border: 1px solid white;">
        <div class="card-header small">Engagement Control</div>
        <div class="card-body bg-transparent pt-1 pb-2">
          <p class="small">Click the button below to stop the execution of FACS at any time or it will stop automatically if you are watching any video here.</p>
            <div class="text-center mt-2">
              <button id="stopFACS" class="btnC btn btn-info btn-sm">Stop</button>
            </div>          
        </div>
      </div>

      <div id="showSummary" class="card bg-transparent mt-2" style="display:none;border: 1px solid white;">
        <div class="card-body pt-2">
          <p class="small">You can click in the graph to seek the video to that point in time and press the <span class="theme-color">spacebar</span> key to play or pause the video.</p>
          <div><hr class="bg-white"/></div>
          <p class="small mb-2">Click the button below to view your reaction at particular time</p>
          <div class="text-center">
            <button id="summaryButton" class="btnC btn btn-success btn-sm">Summary</button>
          </div>
          <div><hr class="bg-white"/></div>
          <p class="small mb-2">Click the button to start over with another video.</p>
          <div class="text-center">
            <a id="choose_another" class="btnC btn btn-info btn-sm" href=".">New Video</a>
          </div>
        </div>
      </div>
        
    </div>

  </div>

  <div style="display:none;" id="summary-container">
    <div class="container">
      <div class="row">
        <div class="col col-lg-8 offset-lg-2">
          <br>
          <div class="card">

            <div class="card-body">
              <div class="tab-content" id="summaryTabContent">
                <div class="tab-pane fade show active" id="table" role="tabpanel" aria-labelledby="table-tab">
                <table class="table table-bordered table-striped">
                  <thead>
                    <tr class="summary-heading">
                      <th scope="col" colspan="2" class="boldtext">Summary</th>
                      <!--<th class="text-right" scope="col">Ad Average</th>-->
                    </tr>
                  </thead>                                                      
                  <thead>
                    <tr class="summary-metric">
                      <th scope="col">Metric</th>
                      <th scope="col" class="text-right">Point</th>
                      <!--<th class="text-right" scope="col">Ad Average</th>-->
                    </tr>
                  </thead>
                  <tbody>
                    
                      <tr class="col-8 summary-expression">
                        <td scope="col" class="col-4">Attention</td>
                        <td scope="col" class="text-right col-4" id="userMeanattention">-</td>
                        <!--<td class="text-right">5.3</td>-->
                      </tr>                    
                    
                      <tr class="col-8 summary-expression">
                        <td scope="col" class="col-4">Expressiveness</td>
                        <td scope="col" class="text-right col-4" id="userMeanengagement">-</td>
                        <!--<td class="text-right">5.3</td>-->
                      </tr>                    
                    
                      <tr class="col-8 summary-emotion">
                        <td scope="col" class="col-4">Contempt</td>
                        <td scope="col" class="text-right col-4" id="userMeancontempt">-</td>
                        <!--<td class="text-right">5.3</td>-->
                      </tr>                    
                    
                      <tr class="col-8 summary-emotion">
                        <td scope="col" class="col-4">Disgust</td>
                        <td scope="col" class="text-right col-4" id="userMeandisgust">-</td>
                        <!--<td class="text-right">5.3</td>-->
                      </tr>                    
                    
                      <tr class="col-8 summary-emotion">
                        <td scope="col" class="col-4">Fear</td>
                        <td scope="col" class="text-right col-4" id="userMeanfear">-</td>
                        <!--<td class="text-right">5.3</td>-->
                      </tr>                    
                    
                      <tr class="col-8 summary-emotion">
                        <td scope="col" class="col-4">Happiness</td>
                        <td scope="col" class="text-right col-4" id="userMeanjoy">-</td>
                        <!--<td class="text-right">5.3</td>-->
                      </tr>                    
                    
                      <tr class="col-8 summary-emotion">
                        <td scope="col" class="col-4">Sadness</td>
                        <td scope="col" class="text-right col-4" id="userMeanlipCornerDepressor">-</td>
                        <!--<td class="text-right">5.3</td>-->
                      </tr>                    
                    
                      <tr class="col-8 summary-emotion">
                        <td scope="col" class="col-4">Surprise</td>
                        <td scope="col" class="text-right col-4" id="userMeansurprise">-</td>
                        <!--<td class="text-right">5.3</td>-->
                      </tr>                    
                    
                    </tr>
                  </tbody>
                  <thead>
                    <tr class="summary-video">
                      <th scope="col">Video Length</th>
                      <th scope="col" class="text-right" id="summaryObject">-</th>
                      <!--<th class="text-right" scope="col">Ad Average</th>-->
                    </tr>
                  </thead>
                  <thead>
                    <tr class="summary-video">
                      <th scope="col">Viewed Time</th>
                      <th scope="col" class="text-right" id="summarySubject">-</th>
                      <!--<th class="text-right" scope="col">Ad Average</th>-->
                    </tr>
                  </thead>                  
                </table>
                </div>
                <div class="tab-pane fade" id="visual" role="tabpanel" aria-labelledby="visual-tab">
                  <!-- TODO: Fill with visuzlization of results -->
                  <!-- <svg id="summaryGraph" width="960" height="500"></svg> -->
                </div>
                <div class="tab-pane fade" id="explain" role="tabpanel" aria-labelledby="explain-tab">
                  <!-- TODO: Fill with explanation of results -->
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col col-lg-2">
          <br>
          <div class="row">
            <!-- Transition Menu -->
            <div id="toDemo" class="col text-center" >
              <a href="#" id="demoButton" class="btnC btn btn-success">Back to Graph</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
  </body>
</html>